<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Para Anais üå±</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Cormorant Garamond', serif;
  transition: background 2s;
  overflow: auto; /* ahora s√≠ se puede bajar */
}

body {
  background: linear-gradient(to top, #1a102d, #402050, #ff9966);
  color: #f6ecff;
}

body.day {
  background: linear-gradient(to top, #6ec6ff, #b3ecff, #fff7cc);
  color: #3a2a1a;
}

#container {
  display: flex;
  min-height: 100vh;
}

canvas {
  width: 50%;
  height: 100vh;
  position: sticky;
  top: 0;
}

#textBox {
  width: 50%;
  padding: 80px 60px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
}

#typedText {
  max-width: 100%;
  font-size: 26px;
  line-height: 2;
  white-space: pre-wrap;
}

#toggle {
  position: fixed;
  top: 20px;
  right: 20px;
  padding: 14px 26px;
  border-radius: 40px;
  border: none;
  cursor: pointer;
  font-size: 16px;
  background: #ffd86b;
  box-shadow: 0 0 20px rgba(255,200,100,0.6);
}

#sun {
  position: fixed;
  top: 70px;
  left: 70px;
  width: 120px;
  height: 120px;
  background: radial-gradient(circle, #fff7aa, #ffcc33);
  border-radius: 50%;
  opacity: 0;
  transition: opacity 2s;
  box-shadow: 0 0 60px rgba(255,200,0,0.8);
}

body.day #sun {
  opacity: 1;
}

/* ü§ç Coraz√≥n blanco animado */
.heart {
  position: fixed;
  bottom: -50px;
  left: 50%;
  font-size: 40px;
  color: white;
  animation: floatHeart 6s infinite ease-in-out;
  opacity: 0.8;
}

@keyframes floatHeart {
  0% {
    transform: translateX(-50%) translateY(0) scale(1);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  50% {
    transform: translateX(-50%) translateY(-200px) scale(1.2);
  }
  100% {
    transform: translateX(-50%) translateY(-400px) scale(1);
    opacity: 0;
  }
}

/* ===== RESPONSIVE CELULAR ===== */
@media (max-width: 900px) {

  #container {
    flex-direction: column;
  }

  canvas {
    width: 100%;
    height: 50vh;
    position: relative;
  }

  #textBox {
    width: 100%;
    padding: 40px 25px;
    align-items: flex-start;
  }

  #typedText {
    font-size: 20px;
    line-height: 1.8;
  }

  #toggle {
    padding: 10px 18px;
    font-size: 14px;
  }

  #sun {
    width: 80px;
    height: 80px;
    top: 50px;
    left: 30px;
  }

  .heart {
    font-size: 28px;
  }

}

</style>

</head>

<body>

<div id="sun"></div>
<button id="toggle">‚òÄÔ∏è Cambiar ambiente</button>

<div id="container">
  <canvas id="plant"></canvas>

  <div id="textBox">
    <div id="typedText"></div>
  </div>
</div>

<script>
/* üå± CANVAS */
const canvas = document.getElementById("plant");
const ctx = canvas.getContext("2d");

function resize() {
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
}
resize();
window.addEventListener("resize", resize);

/* üåø PLANTA REALISTA */
let growth = 0;

const colors = {
  soil: "#3b2a1a",
  stem: "#5a3d2b",
  leaf1: "#7cb342",
  leaf2: "#33691e",
  fruit: "#8d6e63"
};

function drawLeaf(x, y, size, rot) {
  ctx.save();
  ctx.translate(x, y);
  ctx.rotate(rot);
  const g = ctx.createLinearGradient(0,0,0,size);
  g.addColorStop(0, colors.leaf1);
  g.addColorStop(1, colors.leaf2);
  ctx.fillStyle = g;

  ctx.beginPath();
  ctx.moveTo(0,0);
  ctx.bezierCurveTo(-size/2, size/3, -size/2, size, 0, size);
  ctx.bezierCurveTo(size/2, size, size/2, size/3, 0, 0);
  ctx.fill();
  ctx.restore();
}

function drawFruit(x,y,s) {
  ctx.save();
  ctx.translate(x,y);
  ctx.scale(s,s);
  ctx.fillStyle = colors.fruit;
  ctx.beginPath();
  ctx.ellipse(0,0,10,14,0,0,Math.PI*2);
  ctx.fill();
  ctx.restore();
}

function branch(x,y,len,angle,width,depth) {
  if (depth > 6) return;
  if (depth > growth * 7) return;

  const x2 = x + Math.cos(angle)*len;
  const y2 = y + Math.sin(angle)*len;

  ctx.strokeStyle = colors.stem;
  ctx.lineWidth = width;
  ctx.lineCap = "round";

  ctx.beginPath();
  ctx.moveTo(x,y);
  ctx.lineTo(x2,y2);
  ctx.stroke();

  if (depth > 1 && growth > 0.3) {
    drawLeaf(x2,y2,22*growth,angle+0.6);
    drawLeaf(x2,y2,22*growth,angle-0.6);
  }

  if (depth === 5 && growth > 0.8) {
    drawFruit(x2,y2+14,growth);
  }

  branch(x2,y2,len*0.72,angle-0.35,width*0.7,depth+1);
  branch(x2,y2,len*0.72,angle+0.35,width*0.7,depth+1);
}

function animatePlant() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  if (growth < 1) growth += 0.002;

  // suelo
  ctx.fillStyle = colors.soil;
  ctx.fillRect(0, canvas.height-80, canvas.width, 80);

  branch(
    canvas.width/2,
    canvas.height-80,
    120*growth,
    -Math.PI/2,
    10,
    0
  );

  requestAnimationFrame(animatePlant);
}
animatePlant();

/*  TEXTO */
const message =
`Mi kiwisito, no s√© como llegue a tu vida y tu a la m√≠a, pero solo s√© que hubo una llamada para que la historia cambie, para que mi perspectiva de ti cambie y me enamore cada vez m√°s de ti, solo con tu risa, con tu forma de hablar, con tus ocurrencias, y yo sin darme cuenta, comenc√© a cambiar, a acostumbrarme a ti, a necesitarte cada d√≠a, porque te volviste especial para m√≠.

Dicen que en el universo hay millones de estrellas, de galaxias, muchos caminos, muchas posibilidades, con demasiadas personas, pero entre una de esas posibilidades hubo una donde te conoc√≠ a ti, fue una coincidencia o casualidad, no lo s√©, pero el destino hizo que nos conoci√©ramos, entre tantas personas, t√∫ y yo nos cruzamos, y desde entonces, todo tiene m√°s sentido.

Sabes, si me borraran la memoria, mil veces te volver√≠a a buscar, hasta encontrar una posibilidad en el universo de enamorarte otra vez, porque contigo todo se siente muy especial.

Y si alg√∫n d√≠a me preguntan qu√© fue lo m√°s bonito que me pas√≥ en esta vida, sin dudarlo dir√© que fue encontrarte a ti.
Porque desde que est√°s en mi mundo, todo cambi√≥ y mejor√≥, porque ahora t√∫ eres mi mundo, porque todo se siente m√°s bonito, me dan ganas de levantarme y ya desearte los buenos d√≠as, de saber c√≥mo dormiste, de saber que est√°s bien. Me das una paz que necesitaba demasiado y una gran alegr√≠a cada vez que escucho tu linda y tierna voz.

Si el universo volviera a empezar, si el tiempo se reiniciara mil veces, en cada una de esas vidas volver√≠a a buscar la forma de encontrarte, de hablarte, de escucharte re√≠r y de enamorarme otra vez. Porque contigo ademas de sentir algo bonito, siento algo verdadero, y mientras exista al menos una sola posibilidad entre millones, siempre elegir√© que sea contigo.
Te amo, Anais, te amo, mi gran amor.`;


let i = 0;
const target = document.getElementById("typedText");

(function typeText(){
  if (i < message.length) {
    target.innerHTML += message.charAt(i);
    i++;
    setTimeout(typeText, 40);
  }
})();

/* ‚òÄÔ∏è BOT√ìN */
document.getElementById("toggle").onclick = () => {
  document.body.classList.toggle("day");
};
</script>




<div class="heart">ü§ç</div>

</body>
</html>
